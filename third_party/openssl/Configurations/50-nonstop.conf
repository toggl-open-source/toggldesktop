#### Nonstop configurations
    "nonstop-common" => {
        inherit_from     => [ "BASE_unix" ],
        template         => 1,
        cc               => "c99",
        cflags           => add_before(picker(debug   => "-g -O0",
                                              release => "-g -O2") ,"-Wextensions -Wnowarn=203,220,272,734,770,1506 -Wbuild_neutral_library"),
        perl             => "/usr/bin/perl",
        lflags           => "-lrld",
        shared_target    => "self",
        shared_cflag     => "",
        shared_ldflag    => "-Wshared",
        shared_extension => ".so",
        enable           => ["egd"],
        dso_scheme       => "DLFCN",
    },
    "nonstop-nsx" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -I/usr/local/include") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -I/usr/local/include") },
        lflags           => sub { join(" ",@_,"-lfloss -Wxld='-set floattype neutral_float' -Wsystype=oss") },
        shared_ldflag    => sub { join(" ",@_,"-lfloss -Wxld='-export_all -set floattype neutral_float -set systype oss' -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "OPENSSL_TANDEM_FLOSS"],
        disable          => ["threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_put" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose") },
        lflags           => sub { join(" ",@_,"-lput") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float -set systype oss' -lput -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_PUT_MODEL_","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_64" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose") },
        lflags           => sub { join(" ",@_,"-lfloss -Wlp64") },
        shared_ldflag    => sub { join(" ",@_,"-lfloss -Wxld='-export_all -set data_model lp64 -set floattype neutral_float -set systype oss' -Wlp64 -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "OPENSSL_TANDEM_FLOSS"],
        disable          => ["threads"],
        bn_ops           => "SIXTY_FOUR_BIT",
    },
    "nonstop-nsx_64_put" => {
        inherit_from     => [ "nonstop-common" ],
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/x") },
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/x") },
        lflags           => sub { join(" ",@_,"-Wxld='-set floattype neutral_float -set systype oss' -Wlp64 -lput -Wsystype=oss") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set data_model lp64'") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_PUT_MODEL_","_TANDEM_ARCH=3","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        bn_ops           => "SIXTY_FOUR_BIT",
    },
    "nonstop-nsx_spt" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/x") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/x") },
        lflags           => sub { join(" ",@_,"-lspt -Wextensions") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float -set systype oss' -lspt -Wextensions -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_SPT_MODEL_","_THREAD_SUPPORT_FUNCTIONS","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_spt_floss" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-I/usr/local/include -Wverbose -Wtarget=tns/x") },
        shared_cflag     => sub { join(" ",@_,"-I/usr/local/include -Wverbose -Wtarget=tns/x") },
        lflags           => sub { join(" ",@_,"-lfloss -lspt -Wextensions") },
        shared_ldflag    => sub { join(" ",@_,"-lfloss -Wxld='-export_all -set floattype neutral_float -set systype oss' -lspt -Wextensions -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_SPT_MODEL_","_THREAD_SUPPORT_FUNCTIONS","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM","OPENSSL_TANDEM_FLOSS"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_g" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/x") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/x") },
        lflags           => sub { join(" ",@_,"-Wsystype=guardian -Wxld='-set systype guardian -set floattype neutral_float'") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float -soname \$\(\@:lib%.so=%\)  -set systype guardian' -Wsystype=guardian") },
        #shared_extension => " ",
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "NO_GETPID"],
        disable          => ["threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_g_tandem" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/x") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/x") },
        lflags           => sub { join(" ",@_,"-Wsystype=guardian -Wxld='-set systype guardian -set floattype tandem_float'") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype tandem_float -soname \$\(\@:lib%.so=%\)  -set systype guardian' -Wsystype=guardian") },
        #shared_extension => " ",
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "NO_GETPID"],
        disable          => ["threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsv" => {
        inherit_from     => [ "nonstop-nsx" ],
    },
    "nonstop-nse" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e -I/usr/local/include") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e -I/usr/local/include") },
        lflags           => sub { join(" ",@_,"-lfloss") },
        shared_ldflag    => sub { join(" ",@_,"-lfloss -Weld='-export_all -set floattype neutral_float -set systype oss' -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_TANDEM_ARCH=2","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "OPENSSL_TANDEM_FLOSS"],
        disable          => ["threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nse_put" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-lput") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-export_all -set floattype neutral_float -set systype oss' -lput -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_PUT_MODEL_","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nse_64" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-lfloss -Wlp64") },
        shared_ldflag    => sub { join(" ",@_,"-lfloss -Weld='-export_all -set data_model lp64  -set floattype neutral_float -set systype oss' -Wlp64 -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "OPENSSL_TANDEM_FLOSS"],
        disable          => ["threads"],
        bn_ops           => "SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR",
    },
    "nonstop-nse_64_put" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-lput -Wlp64") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-export_all -set data_model lp64 -set floattype neutral_float -set systype oss' -Wlp64 -lput -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_PUT_MODEL_","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        bn_ops           => "SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR",
    },
    "nonstop-nse_spt" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-lspt -Wextensions") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-export_all -set floattype neutral_float -set systype oss' -lspt -Wextensions -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_SPT_MODEL_","_THREAD_SUPPORT_FUNCTIONS","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nse_spt_floss" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-lfloss -lspt -Wextensions") },
        shared_ldflag    => sub { join(" ",@_,"-lfloss -Weld='-export_all -set floattype neutral_float -set systype oss' -lspt -Wextensions -Wsystype=oss") },
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_REENTRANT", "_SPT_MODEL_","_THREAD_SUPPORT_FUNCTIONS","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "OPENSSL_TANDEM_FLOSS"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nse_g" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-Wsystype=guardian -Weld='-set systype guardian'") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-set systype guardian -export_all -set floattype neutral_float -soname \$\(\@:lib%.so=%\)' -Wsystype=guardian") },
        #shared_extension => " ",
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "NO_GETPID"],
        disable          => ["threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },

    "nonstop-nse_g_tandem" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-Wsystype=guardian -Weld='-set systype guardian -set floattype tandem_float'") },
        shared_ldflag    => sub { join(" ",@_,"-Wsystype=guardian -Weld='-set systype guardian -export_all -set floattype tandem_float -soname \$\(\@:lib%.so=%\)'") },
        #shared_extension => " ",
        defines          => ["OPENSSL_VPROC=\$(OPENSSL_VPROC)","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "NO_GETPID"],
        disable          => ["threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
